
import ClientAPI from 'ClientAPI'
import BaseSvc from './BaseSvc'

export default class DocusignSvc extends BaseSvc {

  /////////////////////////////////////////////////////////////////
  //
  //
  /////////////////////////////////////////////////////////////////
  constructor (config) {

    super (config)

    this.api = new ClientAPI(config.apiUrl)
  }

  /////////////////////////////////////////////////////////////////
  //
  //
  /////////////////////////////////////////////////////////////////
  name() {

    return 'DocusignSvc'
  }

  /////////////////////////////////////////////////////////////////
  //
  //
  /////////////////////////////////////////////////////////////////
  getEnvelope (envelopeId) {

    return this.api.ajax(`/envelopes/${envelopeId}`)
  }

  /////////////////////////////////////////////////////////////////
  //
  //
  /////////////////////////////////////////////////////////////////
  getDocuments (envelopeId) {

    return this.api.ajax(`/envelopes/${envelopeId}/documents`)
  }

  /////////////////////////////////////////////////////////////////
  //
  //
  /////////////////////////////////////////////////////////////////
  getDocuments (envelopeId) {

    return this.api.ajax(`/envelopes/${envelopeId}/documents`)
  }

  /////////////////////////////////////////////////////////////////
  //
  //
  /////////////////////////////////////////////////////////////////
  getSignedDocumentURL (envelopeId, documentId) {

    return `${this._config.apiUrl}` + 
      `/envelopes/${envelopeId}/documents/${documentId}`
  }
}
